import{_ as x,c as a,o as e,e as n,E as N,d as y,b as R,r as P,a as V,G as b,q as f,A as h,u as t,h as l,T as U,B as $,t as T,C as A,f as F,F as C,p as k,x as z,z as q}from"./CJ31ajh9.js";import{D as G,u as H}from"./MVgUkNk-.js";import{u as K,_ as O}from"./DGWMqTyp.js";import{_ as Q}from"./DxqLVjy9.js";const j=""+new URL("cover.BVcCTIK-.png",import.meta.url).href,J={},W={class:"error"};function X(d,s){return e(),a("div",W,s[0]||(s[0]=[n("h1",null,"Что-то пошло не так...",-1),n("h3",null,"Проверьте подключение к интернету!",-1)]))}const Y=x(J,[["render",X],["__scopeId","data-v-befa0382"]]);function Z(){return{navigateToPage:s=>{N(`/item/${s}`)}}}const ee={class:"carousel"},te={key:0,class:"carousel__container"},ne={key:0},oe={class:"carousel-container"},ae=["alt"],se={class:"carousel__container-description"},ce={class:"carousel__container-description-heading"},re={class:"carousel__container-description-price"},_e={class:"carousel__navigation"},ie=["onClick"],L=5,le=y({__name:"MainPageCarousel",setup(d){R(async()=>{await E(),m()});const{navigateToPage:s}=Z(),c=P(null),o=P(1),p=r=>r===o.value,u=r=>{o.value=r,m()},m=()=>{c.value&&clearInterval(c.value),c.value=window.setInterval(_,6e3)},_=()=>{o.value===L?o.value=1:o.value=o.value+1},{isLoading:w,errorLoading:I,data:D,fetchByURL:E}=K("https://fakestoreapi.com/products"),i=V(()=>{var r;return(r=D.value)==null?void 0:r[o.value-1]});return b(()=>{c.value&&window.clearInterval(c.value)}),(r,v)=>{const S=A,M=G;return e(),a("div",ee,[t(I)?(e(),a("div",te,[t(w)?(e(),h(M,{key:1})):(e(),a("div",ne,[n("div",oe,[l(U,{tag:"div",name:"slide"},{default:$(()=>[t(i)?(e(),a("div",{key:t(i).id,class:"carousel__container-card"},[n("img",{class:"carousel__container-photo",src:j,alt:t(i).title},null,8,ae),n("div",se,[n("h1",ce,T(t(i).title),1),n("h2",re,"$"+T(t(i).price),1),l(S,{variant:"special",size:"xl",onClick:v[0]||(v[0]=g=>t(s)(t(i).id))},{default:$(()=>v[1]||(v[1]=[F("View product ")])),_:1})])])):f("",!0)]),_:1})]),n("nav",_e,[n("ul",null,[(e(),a(C,null,k(L,g=>n("li",{key:g,class:z({activePage:p(g)}),onClick:ve=>u(g)},null,10,ie)),64))])])]))])):f("",!0),t(I)?f("",!0):(e(),h(Y,{key:1,class:"error"}))])}}}),ue=x(le,[["__scopeId","data-v-df52adb4"]]),de={class:"catalog-latest"},B=6,pe=y({__name:"CatalogLatest",setup(d){const{displayedItems:s,isLoading:c}=H(B);return(o,p)=>{const u=O,m=q("ItemCard");return e(),a("div",null,[n("div",de,[t(c)?(e(),a(C,{key:0},k(B,_=>l(u,{key:`skeleton-${_}`})),64)):(e(!0),a(C,{key:1},k(t(s),_=>(e(),h(m,{key:_.id,product:_},null,8,["product"]))),128))])])}}}),me=x(pe,[["__scopeId","data-v-1a46b197"]]),ke=y({__name:"MainPage",setup(d){return(s,c)=>{const o=ue,p=Q,u=me;return e(),a("div",null,[l(o),l(p),l(u)])}}});export{ke as default};
